(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(81)},50:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o=a.n(l),c=(a(49),a(50),a(39)),s=a(5),i=a(6),u=a(9),m=a(7),d=a(8),h=a(16),E=function(e){localStorage.setItem("@airbnb-Token",e)},p=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark rounded my-2"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Bliblioteca"),r.a.createElement("button",{className:"navbar-toggler d-lg-none",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavId"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},this.props._itensMenu.map(function(e){return r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link",to:e.Rota},e.Nome))})),r.a.createElement("form",{class:"form-inline my-2 my-lg-0"},r.a.createElement("label",{className:"text-light mr-2"},localStorage.nome),r.a.createElement(h.b,{className:"text-danger",to:"/"},"Logout")))))}}]),t}(n.Component),f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).itensMenuAdm=[{Nome:"Home",Rota:"/home/texto"},{Nome:"Livros",Rota:"/home/livros"},{Nome:"Notas",Rota:"/home/notas"}],a.itensMenuUser=[{Nome:"Home",Rota:"/home/user"},{Nome:"Notas",Rota:"/home/nota"}],a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p,{_itensMenu:"true"===localStorage.getItem("administrador")?this.itensMenuAdm:this.itensMenuUser})}}]),t}(n.Component),b=a(17),v=a(12),g=a(18),y=a.n(g),k=a(20),j=a(42),N=a.n(j).a.create({baseURL:"http://localhost:5000"});N.interceptors.request.use(function(){var e=Object(k.a)(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=localStorage.getItem("@airbnb-Token"))&&(t.headers.Authorization="Bearer ".concat(a)),e.abrupt("return",t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var O=N,S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.fetchDataBook(),a.fetchDataRating()},a.fetchDataBook=function(){O.get("projects/livrosnotas").then(function(e){return e.data}).then(function(e){a.setState({resultLivro:e.livros})}).catch(function(e){a.setState({errorMessage:e.Error})})},a.fetchDataRating=function(){O.get("projects/notas").then(function(e){return e.data}).then(function(e){a.setState({resultNota:e.notas})})},a.deleteRating=function(e){O.delete("projects/nota/"+e).then(function(e){return a.setState({errorMessage:e.Error})}).catch(function(e){a.setState({errorMessage:e.message}),a.fetchDataBook()})},a.saveRating=function(){var e={nota:a.nota,livroId:a.state.livroId};O.post("projects/notas",e).then(function(e){a.setState({errorMessage:e.Error}),a.fetchDataBook(),a.fetchDataRating()}).catch(function(e){a.setState({errorMessage:e.message})}),a.clearCamp()},a.state={titulo:"",autor:"",editora:"",errorMessage:"",resultLivro:[],resultNota:[],nota:"",livroId:""},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"clearCamp",value:function(){document.getElementById("titulo").value="",document.getElementById("autor").value="",document.getElementById("nota").value="",this.setState({titulo:"",autor:"",editora:"",livroId:""})}},{key:"newRating",value:function(e,t,a){document.getElementById("titulo").value=t,document.getElementById("autor").value=a,this.setState({livroId:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.errorMessage?r.a.createElement("div",{class:"alert alert-danger alert-dismissible fade show",role:"alert"},r.a.createElement("strong",null,this.state.errorMessage),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):"",r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-row align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("input",{type:"text",className:"form-control mb-2",id:"titulo",placeholder:"Titulo do Livro",readOnly:!0})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("input",{type:"text",className:"form-control mb-2",id:"autor",placeholder:"Autor do Livro",readOnly:!0})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("input",{type:"number",onChange:function(t){return e.nota=t.target.value},className:"form-control mb-2",id:"nota",placeholder:"Avaliar livro"})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2",onClick:this.saveRating},"Salvar"))),r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Titulo"),r.a.createElement("th",{scope:"col"},"Autor"),r.a.createElement("th",{scope:"col"},"Editora"),r.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),r.a.createElement("tbody",null,this.state.resultLivro.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.titulo),r.a.createElement("td",null,t.autor),r.a.createElement("td",null,t.editora),r.a.createElement("td",null,r.a.createElement("button",{type:"submit",className:"btn btn-danger",onClick:function(){return e.newRating(t._id,t.titulo,t.autor)}},"Avaliar")))}))),r.a.createElement("h1",null,"Notas atribuidas"),r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Titulo"),r.a.createElement("th",{scope:"col"},"Autor"),r.a.createElement("th",{scope:"col"},"nota"))),r.a.createElement("tbody",null,this.state.resultNota.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.livro.titulo),r.a.createElement("td",null,e.livro.autor),r.a.createElement("td",null,e.nota))})))))}}]),t}(n.Component),C=function(){return r.a.createElement("div",null,r.a.createElement(S,null))},I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.fetchDataRating()},a.fetchDataRating=function(){O.get("projects/notasmedia").then(function(e){return e.data}).then(function(e){console.log(e.result),a.setState({resultNotas:e.result.notas,resultLivros:e.result.livros,resultTudo:e.result})})},a.state={errorMessage:"",resultNotas:[],resultLivros:[],resultTudo:[],media:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Titulo"),r.a.createElement("th",{scope:"col"},"Autor"),r.a.createElement("th",{scope:"col"},"m\xe9dia"))),r.a.createElement("tbody",null,this.state.resultLivros.map(function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.titulo),r.a.createElement("td",null,t.autor),r.a.createElement("td",null,e.state.resultNotas.filter(function(e){return e.livro===t._id}).map(function(e){return e.nota}).reduce(function(e,t){return e+t})/e.state.resultNotas.filter(function(e){return e.livro===t._id}).length))}))))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.fetchData()},a.fetchData=function(){O.get("projects/livros").then(function(e){return e.data}).then(function(e){a.setState({result:e.livro})})},a.bookEdit=function(e){O.delete("projects/livros/"+e).then(function(e){a.setState({errorMessage:e.data.Error}),a.fetchData()}).catch(function(e){a.setState({errorMessage:e.message}),a.fetchData()})},a.createBook=function(){if(a.state.update){var e={titulo:a.titulo,autor:a.autor,editora:a.editora};O.put("projects/livros/"+a.state.id,e).then(function(e){a.setState({errorMessage:e.Error}),a.fetchData()}).catch(function(e){a.setState({errorMessage:e.message})}),a.setState({update:!1})}else{var t={titulo:a.titulo,autor:a.autor,editora:a.editora};O.post("projects/livros",t).then(function(e){a.setState({errorMessage:e.Error}),a.fetchData()}).catch(function(e){a.setState({errorMessage:e.message})})}a.clearCamp()},a.editBook=function(e,t,n,r){a.setState({id:e}),a.titulo=t,a.autor=n,a.editora=r,document.getElementById("titulo").value=t,document.getElementById("autor").value=n,document.getElementById("editora").value=r,a.setState({update:!0})},a.state={id:"",titulo:"",autor:"",editora:"",errorMessage:"",result:[],update:!1},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"clearCamp",value:function(){document.getElementById("titulo").value="",document.getElementById("autor").value="",document.getElementById("editora").value="",this.setState({titulo:"",autor:"",editora:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.errorMessage?r.a.createElement("div",{class:"alert alert-danger alert-dismissible fade show",role:"alert"},r.a.createElement("strong",null,this.state.errorMessage),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):"",r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-row align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("input",{type:"text",onChange:function(t){return e.titulo=t.target.value},className:"form-control mb-2",id:"titulo",placeholder:"Titulo do Livro"})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("input",{type:"text",onChange:function(t){return e.autor=t.target.value},className:"form-control mb-2",id:"autor",placeholder:"Autor do Livro"})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("input",{type:"text",onChange:function(t){return e.editora=t.target.value},className:"form-control mb-2",id:"editora",placeholder:"Editora do Livro"})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2",onClick:this.createBook,id:"botaoSalvar"},"Salvar"))),r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Titulo"),r.a.createElement("th",{scope:"col"},"Autor"),r.a.createElement("th",{scope:"col"},"Editora"),r.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),r.a.createElement("tbody",null,this.state.result.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.titulo),r.a.createElement("td",null,t.autor),r.a.createElement("td",null,t.editora),r.a.createElement("td",null,r.a.createElement("button",{type:"submit",className:"btn btn-danger",onClick:function(){return e.bookEdit(t._id)}},"Delete"),r.a.createElement("button",{type:"submit",className:"btn btn-success ml-2",onClick:function(){return e.editBook(t._id,t.titulo,t.autor,t.editora)}},"Editar")))})))))}}]),t}(n.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,null))}}]),t}(n.Component),M=function(e){return r.a.createElement("div",null,r.a.createElement("p",null,e._texto))},B=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,console.log("entrou"),r.a.createElement(M,{_texto:"Biblioteca Aktie Now"}))}}]),t}(n.Component),D=a(87),A=a(82),R=a(83),T=a(84),L=a(85),_=a(86),U=function(e){var t=e.title;return r.a.createElement("header",null,r.a.createElement("h3",{className:"text-center"},t))},F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).signIn=Object(k.a)(y.a.mark(function t(){var a;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={email:e.email,senha:e.senha},O.post("auth/authenticate",a).then(function(e){return e.data}).then(function(t){localStorage.setItem("nome",t.user.nome),localStorage.setItem("administrador",t.user.administrador),E(t.token),e.props.history.push("/home")}).catch(function(t){e.setState({message:t.message})});case 2:case"end":return t.stop()}},t)})),e.state={message:""},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"area"},r.a.createElement("ul",{class:"circles"},r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null)),r.a.createElement("div",{className:"container col-md-4 mt-5"},r.a.createElement("head",null,r.a.createElement("meta",{charset:"UTF-8"}),r.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),r.a.createElement("link",{rel:"icon",type:"image/png",href:"images/icons/favicon.ico"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"vendor/bootstrap/css/bootstrap.min.css"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"fonts/font-awesome-4.7.0/css/font-awesome.min.css"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"vendor/animate/animate.css"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"vendor/css-hamburgers/hamburgers.min.css"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"vendor/select2/select2.min.css"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"css/util.css"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"css/main.css"})),r.a.createElement(U,{title:"Teste Aktie Now | Desenvolvedor FullStack"}),r.a.createElement("hr",{className:"my-3"}),""!==this.state.message?r.a.createElement(D.a,{color:"danger"},this.state.message):"",r.a.createElement(A.a,null,r.a.createElement(R.a,null,r.a.createElement(T.a,{for:"email"},"Email"),r.a.createElement(L.a,{type:"text",id:"email",onChange:function(t){return e.email=t.target.value},placeholder:"Informe seu e-mail"})),r.a.createElement(R.a,null,r.a.createElement(T.a,{for:"senha"},"Senha"),r.a.createElement(L.a,{type:"password",id:"senha",onChange:function(t){return e.senha=t.target.value},placeholder:"Informe sua senha"})),r.a.createElement(_.a,{color:"primary",block:!0,onClick:this.signIn},"Entrar")),r.a.createElement(h.b,{className:"text-danger",to:"/register"},"Eu n\xe3o tenho usu\xe1rio")))}}]),t}(n.Component),J=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).create=function(){var t={nome:e.nome,email:e.email,senha:e.senha,administrador:"on"===e.administrador};O.post("auth/register",t).then(function(e){return e.data}).then(function(t){localStorage.setItem("nome",t.user.nome),localStorage.setItem("administrador",t.user.administrador),E(t.token),e.props.history.push("/home")}).catch(function(t){e.setState({message:t.message})})},e.state={message:""},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"area"},r.a.createElement("ul",{class:"circles"},r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null)),r.a.createElement("div",{className:"container col-md-4 mt-5"},r.a.createElement(U,{title:"Teste Aktie Now | Desenvolvedor FullStack"}),r.a.createElement("hr",{className:"my-3"}),""!==this.state.message?r.a.createElement(D.a,{color:"danger"},this.state.message):"",r.a.createElement(A.a,null,r.a.createElement(R.a,null,r.a.createElement(T.a,{for:"nome"},"nome"),r.a.createElement(L.a,{type:"text",id:"nome",onChange:function(t){return e.nome=t.target.value},placeholder:"Informe seu nome"})),r.a.createElement(R.a,null,r.a.createElement(T.a,{for:"email"},"Email"),r.a.createElement(L.a,{type:"text",id:"email",onChange:function(t){return e.email=t.target.value},placeholder:"Informe seu e-mail"})),r.a.createElement(R.a,null,r.a.createElement(T.a,{for:"senha"},"Senha"),r.a.createElement(L.a,{type:"password",id:"senha",onChange:function(t){return e.senha=t.target.value},placeholder:"Informe sua senha"})),r.a.createElement("div",{class:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"customCheck1",onChange:function(t){return e.administrador=t.target.value}}),r.a.createElement("label",{class:"custom-control-label",for:"customCheck1"},"Administrador")),r.a.createElement(_.a,{color:"primary",block:!0,onClick:this.create},"Salvar")),r.a.createElement(h.b,{className:"text-danger",to:"/"},"Ja sou registrado")))}}]),t}(n.Component),H=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M,{_texto:"Site para avaliar os livros alugados."}))}}]),t}(n.Component),q=function(e){var t=e.component,a=Object(c.a)(e,["component"]);return r.a.createElement(b.b,Object.assign({},a,{render:function(e){return null!==localStorage.getItem("@airbnb-Token")?r.a.createElement(t,e):r.a.createElement(b.a,{to:{pathname:"/",state:{from:e.location}}})}}))},z=function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(q,{path:"/home",component:f}),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",exact:!0,component:F}),r.a.createElement(b.b,{path:"/register",exact:!0,component:J}),r.a.createElement(q,{path:"/home/livros",component:w}),r.a.createElement(q,{path:"/home/notas",component:I}),r.a.createElement(q,{path:"/home/nota",component:C}),r.a.createElement(q,{path:"/home/user",component:H}),r.a.createElement(q,{path:"/home/texto",component:B}))))},G=function(){return r.a.createElement(z,null)};o.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.34e24e9d.chunk.js.map